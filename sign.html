<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project-2</title>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
    integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/fonts/styleSheet.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/sign.css" />
 <script type="text/javascript" src="./assets/js/code.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="content">
            <nav class="nav-bar">
                <div class="nav-bar__left">
                    <a href="index.html" class="nav-bar__logo">TALK</a>
                    <a class="bar-left__item" href="#!">Services</a>
                    <a class="bar-left__item" href="#!">Pricing</a>
                    <a class="bar-left__item" href="about.html">About Us</a>
                </div>
                <button class="mobile__menu" onclick="toggleMenu()">
                    <i class="fa-solid fa-bars"></i>
                    <ul class="mobile-menu__list" id="hidden__menu">
                        <li class="menu-list__margin"><a class="menu-list__items" href="#!">Services</a></li>
                        <li class="menu-list__margin"><a class="menu-list__items" href="#!">Pricing</a></li>
                        <li class="menu-list__margin"><a class="menu-list__items" href="about.html">About Us</a></li>
                    </ul>
                </button>
                <div class="nav-bar__right">
                    <a href="sign.html" class="bar-right__cta bar-right__sign-in">Sign in</a>
                    <a href="sign.html" class="bar-right__cta bar-right__sign-up">Sign up</a>
                </div>
            </nav>
        </div>
        <script>
            function toggleMenu() {
            const menu = document.getElementById("hidden__menu");
            menu.style.display = (menu.style.display === "none") ? "block" : "none";
            }
        </script>
    </header>
    <!-- Form -->
    <main class="sign-form">
        <div class="content form__center-wrap">
            <div class="form__wrap">
                <!-- Signin part -->
                <div class="form-sign-in__wrap" id="sign-in__id">
                    <div class="btn__wrap">
                        <button type="button" class="toggle-btn toggle-btn__sign-in" onclick="clickRegister()" id="loginSlider">Login</button>
                        <p class="login__result" id="loginResult"></p>
                    </div>
                    <section class="form__sign-in">
                        <form id="login" class="form-input__sign-in">
                            <input type="text" class="input-field" id="loginName" placeholder="username" name="username" required
                                pattern="(?=.*[a-zA-Z])[a-zA-Z0-9-_]{3,18}$" autocomplete="off" />
                            <input type="password" class="input-field" id="loginPassword" placeholder="password" name="password" required
                                pattern="(?=.*\d)(?=.*[A-Za-z])(?=.*[!@#$%^&*]).{8,32}" />
                            <button type="button" id="loginButton" class="submit-btn form-submit-btn__login" onclick="doLogin()">Login</button>
                            
                        </form>
                    </section>
                    <button id="move-sign-up__button" onclick="moveSignUp()">Sign up here</button>
                </div>
                <!-- Signup part -->
                <div class="form-sign-up__wrap" id="sign-up__id">
                    <div class="btn__wrap">
                        <button type="button" class="toggle-btn toggle-btn__sign-up" >Signup</button>
                        <p class="signup__result" id="signupResult"></p>
                    </div>
                    <section class="form__sign-up">
                       
                        <form id="signup" class="form-input__sign-up">
                            <input type="text" class="input-field" id="firstName" placeholder="first&nbsp;name" name="firstName" required autocomplete="off"/>
                            <input type="text" class="input-field" id="lastName" placeholder="last&nbsp;name" name="lastName" required autocomplete="off"/>
                            <input type="text" class="input-field" id="username" placeholder="username" name="login" required
                                pattern="(?=.*[a-zA-Z])[a-zA-Z0-9-_]{3,18}"
                                title="Must be between 3-13 characters and must contain at least one letter" autocomplete="off"/>
                            <div id="explanation-user" class="form-sign-up__style">
                                <p id="userLett" class="invalid">
                                At least one letter
                                </p>
                                <p id="userLen" class="invalid">
                                3 to 18 characters
                                </p>
                                <p id="userspace" class="valid">
                                No space allowed
                                </p>
                                <p id="userSpec" class="valid explanation-user__margin">
                                No special characters "!@#$%^&*"(Except "-", "_")
                                </p>
                            </div>
                            <input type="password" class="input-field" id="password" placeholder="password" name="password" required
                                pattern="(?=.*\d)(?=.*[A-Za-z])(?=.*[!@#$%^&*]).{8,32}"
                                title="Must be between 8-32 characters and must contain at least one number and one special character" />
                            <div id="explanation-pass" class="form-sign-up__style">
                                <p id="passLen" class="invalid">
                                8 to 32 characters
                                </p>
                                <p id="passLett" class="invalid">
                                At least one letter
                                </p>
                                <p id="passNum" class="invalid">
                                At least one number
                                </p>
                                <p id="passSpec" class="invalid explanation-user__margin">
                                At least one special character
                                </p>
                            </div>    
                            <button type="button" id="signupButton" class="submit-btn" onclick="doSignup()">Signup</button><br/>  
                            
                        </form>
                    </section>
                    <button id="move-sign-in__button" onclick="moveSignIn()">Sign in here</button>
                </div>
            </div>
        </div>
    <!--code for username criteria message-->
    <script>
        //move to sign in/up
        function moveSignIn() {
            const btn__signin = document.getElementById("move-sign-in__button");
            const btn__signup = document.getElementById("move-sign-up__button");
            const sign__in = document.getElementById("sign-in__id");
            const sign__up = document.getElementById("sign-up__id");
            
            btn__signin.style.display = "block";
            sign__in.style.display = "block";
            btn__signin.style.display = "none";
            sign__up.style.display = "none";
            
        }
        function moveSignUp() {
            const btn__signin = document.getElementById("move-sign-in__button");
            const btn__signup = document.getElementById("move-sign-up__button");
            const sign__in = document.getElementById("sign-in__id");
            const sign__up = document.getElementById("sign-up__id");
            
            btn__signin.style.display = "none";
            sign__in.style.display = "none";
            btn__signin.style.display = "block";
            sign__up.style.display = "block";
            
        }
        //========================    
        let fNameField = document.getElementById("firstName");
        let lNameField = document.getElementById("lastName");
        let userform = document.getElementById("username");
        
        let numInput = document.getElementById("userNum");
        let lettInput = document.getElementById("userLett");
        let lenInput = document.getElementById("userLen");
        let specInput = document.getElementById("userSpec");
        let undInput = document.getElementById("userUnd");
        let spacInput = document.getElementById("userspace");
        //password message displays
        userform.onfocus = function () {
            document.getElementById("explanation-user").style.display = "block";

        }

        //password message goes away
        userform.onblur = function () {
            document.getElementById("explanation-user").style.display = "none";
           
        }
        //password validation
        userform.onkeyup = function () {
            var lett = /[a-zA-Z]/g;
            var spec = /[!@#$%^&*]/;
            var nospace = /^\S+$/;
            //check length
            if ((userform.value.length >= 3 && userform.value.length <= 18)) {
                lenInput.classList.remove("invalid");
                lenInput.classList.add("valid");
            }
            else {
                lenInput.classList.remove("valid");
                lenInput.classList.add("invalid");
            }

            //check letters
            if ((userform.value.match(lett))) {
                lettInput.classList.remove("invalid");
                lettInput.classList.add("valid");
            }

            else {
                lettInput.classList.remove("valid");
                lettInput.classList.add("invalid");
            }

            //check special character
            if ((userform.value.match(spec))) {
                specInput.classList.remove("valid");
                specInput.classList.add("invalid");
            }

            else {
                specInput.classList.remove("invalid");
                specInput.classList.add("valid");
            }
            //check space
            if ((userform.value.match(nospace))) {
                spacInput.classList.add("valid");
                spacInput.classList.remove("invalid");
            }
            else {
                spacInput.classList.remove("valid");
                spacInput.classList.add("invalid");
                
            }
        }
    </script>
    <!--code for password criteria message-->
    <script>
      let passform = document.getElementById("password");
      let pNumInput = document.getElementById("passNum");
      let pLettInput = document.getElementById("passLett");
      let pSpecInput = document.getElementById("passSpec");
      let pLenInput = document.getElementById("passLen");

      //password message displays
      passform.onfocus = function () {
        document.getElementById("explanation-pass").style.display = "block";
      };

      //password message goes away
      passform.onblur = function () {
        document.getElementById("explanation-pass").style.display = "none";
      }

      //password validation
      passform.onkeyup = function () {
        var nums = /[0-9]/g;
        var lett = /[a-zA-Z]/g;
        var spec = /[!@#$%^&*]/g;

        //check length
        if (passform.value.length >= 8 && passform.value.length <= 32) {
          pLenInput.classList.remove("invalid");
          pLenInput.classList.add("valid");
        }

        else {
          pLenInput.classList.remove("valid");
          pLenInput.classList.add("invalid");
        }

        //check numbers
        if (passform.value.match(nums)) {
          pNumInput.classList.remove("invalid");
          pNumInput.classList.add("valid");
        }

        else {
          pNumInput.classList.remove("valid");
          pNumInput.classList.add("invalid");
        }

        //check letters
        if (passform.value.match(lett)) {
          pLettInput.classList.remove("invalid");
          pLettInput.classList.add("valid");
        }

        else {
          pLettInput.classList.remove("valid");
          pLettInput.classList.add("invalid");
        }

        //check special characters
        if (passform.value.match(spec)) {
          pSpecInput.classList.remove("invalid");
          pSpecInput.classList.add("valid");
        }

        else {
          pSpecInput.classList.remove("valid");
          pSpecInput.classList.add("invalid");
        }
      }
    </script>
    </main>
    <!-- <a href="contacts.html" style="font-size: 50px;">temp</a> -->
</body>
</html>    